Query:
  type: object
  config:
    description: "FarmersMarket ORM repository"
    fields:
      farm:
        type: "Farm"
        args:
          id:
            type: "Uuid"
        resolve: "@=resolver('Farm', [args])"
      farms:
        type: "[Farm]"
        args:
          location:
            type: "GeoPointInput"
        resolve: "@=resolver('Farms', [args])"

Mutation:
  type: object
  config:
    fields:
      singleUpload:
        type: String!
        resolve: "@=mutation('upload_image', [args['file']])"
        args:
          file: ImageUpload!
      multipleUpload:
        type: '[String!]'
        resolve: '@=[args["files"][0].getBasename(), args["files"][1].getBasename()]'
        args:
          files: '[ImageUpload!]!'